#include "letters.h"

#include <gu.h>
#include "graphic.h"

#define TIME_PER_CHARACTER 0.03936f

unsigned char test2_bin[] = {
  0x88, 0x8f, 0xd8, 0x88, 0x8d, 0xff, 0xff, 0xb8, 0x88, 0xff, 0xff, 0xd8,
  0x8d, 0xff, 0xff, 0xd8, 0x8d, 0xff, 0xff, 0xf8, 0x8d, 0xff, 0xff, 0xf8,
  0x88, 0xff, 0xff, 0xf8, 0xff, 0xf8, 0x8f, 0xfd, 0x88, 0xbf, 0xf8, 0x88,
  0x88, 0xfb, 0x8f, 0xf8, 0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0xfb, 0x8d, 0xff,
  0x88, 0xf8, 0x8b, 0xf8, 0x88, 0xfb, 0x8d, 0xf8, 0x8f, 0xf8, 0x8f, 0xf8,
  0x8f, 0xd8, 0x8d, 0xf8, 0x88, 0xfd, 0xf8, 0x88, 0x88, 0xfb, 0x8f, 0xf8,
  0xdf, 0x88, 0x8b, 0xf8, 0x88, 0xf8, 0x88, 0xff, 0x88, 0xf8, 0x88, 0x88,
  0x88, 0xfb, 0x8b, 0xd8, 0xdf, 0x88, 0x8b, 0xd8, 0x8f, 0xd8, 0x8d, 0xf8,
  0x88, 0xf8, 0xff, 0x88, 0x88, 0xff, 0xff, 0xd8, 0xff, 0x88, 0x88, 0x88,
  0x88, 0xf8, 0x88, 0xdf, 0x88, 0xff, 0xff, 0x88, 0x88, 0xff, 0xff, 0x88,
  0xff, 0x88, 0x88, 0x88, 0x8f, 0xff, 0xff, 0xf8, 0x8b, 0xff, 0xff, 0x88,
  0x88, 0xfb, 0xbf, 0xf8, 0xff, 0x88, 0x88, 0x88, 0x88, 0xf8, 0x88, 0xbf,
  0x88, 0xfd, 0xdf, 0x88, 0x88, 0xfd, 0xdf, 0x88, 0xff, 0x88, 0xbf, 0xfd,
  0x8f, 0xd8, 0x8d, 0xf8, 0x8f, 0xdd, 0xdf, 0xb8, 0x88, 0xfb, 0x8b, 0xfb,
  0xdf, 0xb8, 0x88, 0xd8, 0x88, 0xf8, 0x88, 0xff, 0x88, 0xf8, 0x88, 0x88,
  0x88, 0xfb, 0x8b, 0x88, 0xdf, 0x88, 0x8f, 0xf8, 0x8f, 0xd8, 0x8d, 0xf8,
  0xbf, 0x88, 0x8f, 0xf8, 0x88, 0xfb, 0x8d, 0xf8, 0x8f, 0xf8, 0x8d, 0xf8,
  0x88, 0xfb, 0x8b, 0xfd, 0x88, 0xf8, 0x88, 0xf8, 0x88, 0xfb, 0x88, 0x88,
  0x8f, 0xf8, 0x8f, 0xf8, 0x8f, 0xd8, 0x8d, 0xf8, 0xff, 0xd8, 0xdf, 0xfd,
  0x8d, 0xff, 0xff, 0xd8, 0x8b, 0xff, 0xff, 0x88, 0x8d, 0xff, 0xff, 0xd8,
  0x8d, 0xff, 0xff, 0xf8, 0x8f, 0xff, 0x88, 0x88, 0x8b, 0xff, 0xff, 0xf8,
  0xff, 0xf8, 0x8f, 0xfd, 0x88, 0xff, 0xfb, 0x88, 0x88, 0xff, 0xff, 0x88,
  0xdf, 0xf8, 0xff, 0xf8, 0x8d, 0xff, 0xb8, 0x88, 0xdf, 0xf8, 0x8b, 0xff,
  0xff, 0xf8, 0x8f, 0xff, 0x88, 0xff, 0xff, 0x88, 0x8f, 0xff, 0xff, 0xb8,
  0x88, 0x8f, 0xf8, 0x88, 0x88, 0x8f, 0xf8, 0x88, 0x8f, 0xd8, 0xff, 0x88,
  0x88, 0xff, 0x88, 0x88, 0x8f, 0xf8, 0x8f, 0xfd, 0x8f, 0xfb, 0x88, 0xf8,
  0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0xfb, 0x8f, 0xf8, 0x88, 0x8f, 0x88, 0x88,
  0x88, 0x8f, 0xf8, 0x88, 0x8f, 0xbf, 0xf8, 0x88, 0x88, 0xfd, 0x88, 0x88,
  0x8f, 0xfd, 0x8f, 0xf8, 0x8f, 0xff, 0x88, 0xf8, 0xdf, 0x88, 0x88, 0xfd,
  0x88, 0xfb, 0x8f, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0x88, 0x8f, 0xf8, 0x88,
  0x8f, 0xff, 0x88, 0x88, 0x88, 0xfd, 0x88, 0x88, 0x8f, 0xff, 0x8f, 0xf8,
  0x8f, 0xbf, 0xf8, 0xf8, 0xff, 0x88, 0x88, 0xff, 0x88, 0xfb, 0x8f, 0xf8,
  0x88, 0x8f, 0x88, 0x88, 0x88, 0x8f, 0xf8, 0x88, 0x8f, 0xff, 0xf8, 0x88,
  0x88, 0xfd, 0x88, 0x88, 0x8f, 0xbf, 0xf8, 0xf8, 0x8f, 0x8d, 0xfd, 0xf8,
  0xff, 0x88, 0x88, 0xff, 0x88, 0xff, 0xff, 0x88, 0x88, 0x8f, 0x88, 0x88,
  0x88, 0x8f, 0xf8, 0x88, 0x8f, 0xbd, 0xfb, 0x88, 0x88, 0xfd, 0x88, 0xd8,
  0x8f, 0x8f, 0xf8, 0xf8, 0x8f, 0x88, 0xff, 0xf8, 0xdf, 0x88, 0x88, 0xfd,
  0x88, 0xfb, 0x88, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x8f, 0xdf, 0xf8, 0x88,
  0x8f, 0xd8, 0xff, 0xb8, 0x88, 0xfd, 0x8b, 0xf8, 0x8f, 0x8f, 0xf8, 0xfd,
  0x8f, 0x88, 0x8f, 0xf8, 0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0xfb, 0x88, 0x88,
  0x88, 0xff, 0xfd, 0x88, 0x8f, 0xff, 0x88, 0x88, 0xff, 0xf8, 0xbf, 0xf8,
  0x8d, 0xff, 0xff, 0xf8, 0xff, 0xd8, 0xf8, 0xff, 0xff, 0xd8, 0x8b, 0xf8,
  0x8b, 0xff, 0xff, 0xb8, 0x8f, 0xff, 0x88, 0x88, 0x88, 0xff, 0xff, 0x88,
  0x8f, 0xff, 0xff, 0xb8, 0x88, 0xff, 0xff, 0x88, 0x8f, 0xff, 0xff, 0xfd,
  0xff, 0xf8, 0x8f, 0xfd, 0xff, 0xf8, 0xbf, 0xfb, 0xff, 0x8d, 0xf8, 0xdf,
  0xff, 0xf8, 0xdf, 0xf8, 0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0xfb, 0x8f, 0xf8,
  0x8f, 0xf8, 0xbf, 0x88, 0x8f, 0xbd, 0xf8, 0xff, 0x8f, 0xb8, 0x88, 0xf8,
  0xdf, 0xb8, 0x8f, 0xf8, 0xbf, 0x8f, 0xf8, 0xfb, 0x8f, 0xf8, 0xbf, 0xb8,
  0xdf, 0x88, 0x8b, 0xfd, 0x88, 0xfb, 0x8f, 0xf8, 0x8f, 0xfb, 0x8d, 0x88,
  0x8d, 0x8d, 0xf8, 0x8d, 0x8f, 0x88, 0x88, 0xf8, 0x8f, 0xf8, 0x8f, 0x88,
  0x8f, 0x8f, 0xfd, 0xf8, 0x8b, 0xfd, 0xfd, 0x88, 0xff, 0x88, 0x88, 0xff,
  0x88, 0xfd, 0xff, 0xf8, 0x8b, 0xff, 0xf8, 0x88, 0x88, 0x8d, 0xf8, 0x88,
  0x8f, 0x88, 0x88, 0xf8, 0x8f, 0xf8, 0xbf, 0x88, 0x8f, 0xbf, 0xff, 0xf8,
  0x88, 0xff, 0xf8, 0x88, 0xff, 0x88, 0x88, 0xff, 0x88, 0xff, 0xff, 0x88,
  0x88, 0x8f, 0xff, 0x88, 0x88, 0x8d, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0xf8,
  0x88, 0xfd, 0xfb, 0x88, 0x8f, 0xfd, 0xff, 0xf8, 0x88, 0xdf, 0xf8, 0x88,
  0x8f, 0x8f, 0x88, 0xfd, 0x88, 0xfb, 0x8f, 0xf8, 0x8d, 0xb8, 0xbf, 0xb8,
  0x88, 0x8d, 0xf8, 0x88, 0x8f, 0xb8, 0x8b, 0xf8, 0x88, 0xff, 0xf8, 0x88,
  0x8b, 0xf8, 0xbf, 0xf8, 0x8b, 0xfb, 0xfd, 0x88, 0x8f, 0xf8, 0xff, 0xf8,
  0x88, 0xfb, 0x8f, 0xf8, 0x8f, 0xf8, 0x8f, 0xb8, 0x88, 0x8f, 0xf8, 0x88,
  0x8f, 0xf8, 0x8f, 0xd8, 0x88, 0xdf, 0xf8, 0x88, 0x88, 0xf8, 0x8f, 0xf8,
  0x8f, 0xb8, 0xff, 0xb8, 0x88, 0xff, 0xf8, 0xfb, 0x8f, 0xff, 0x8b, 0xff,
  0x8f, 0xff, 0xff, 0x88, 0x88, 0xbf, 0xff, 0x88, 0x8b, 0xff, 0xff, 0x88,
  0x88, 0x8f, 0xb8, 0x88, 0x88, 0xf8, 0x8f, 0xf8, 0xff, 0xd8, 0xdf, 0xfb,
  0xff, 0xf8, 0xbf, 0xfb, 0x8b, 0xff, 0xff, 0xf8, 0x88, 0x88, 0x88, 0x88,
  0x8f, 0xf8, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x8d, 0xfd, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x8f, 0xff, 0x88, 0xbf, 0xf8, 0x8f, 0xb8,
  0x8d, 0xf8, 0x8f, 0xf8, 0x88, 0x88, 0x88, 0x88, 0x88, 0xf8, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0xfd, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x8f, 0x8f, 0x88, 0x8d, 0xfb, 0xfd, 0x88, 0x8d, 0xb8, 0xff, 0xb8,
  0x88, 0x8d, 0xff, 0xb8, 0x88, 0xfd, 0xfd, 0x88, 0x88, 0xdf, 0xfb, 0x88,
  0x8d, 0xff, 0xfd, 0x88, 0x88, 0xdf, 0xfb, 0x88, 0x88, 0x8f, 0x88, 0x88,
  0x88, 0xff, 0xf8, 0x88, 0x88, 0x8b, 0xfd, 0x88, 0x88, 0xdf, 0x8f, 0xf8,
  0x88, 0xfd, 0xbf, 0xd8, 0x8b, 0xfb, 0xdf, 0x88, 0xbf, 0xbd, 0xfd, 0x88,
  0x8b, 0xf8, 0x8f, 0x88, 0x88, 0xff, 0xf8, 0x88, 0x88, 0xbf, 0x88, 0x88,
  0x88, 0x8f, 0xf8, 0x88, 0x88, 0x8b, 0xff, 0xf8, 0x88, 0xf8, 0x8f, 0xf8,
  0x8f, 0xf8, 0x8b, 0x88, 0xff, 0x88, 0xfd, 0x88, 0x8f, 0xff, 0xff, 0x88,
  0x88, 0x8f, 0x88, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x88, 0xff, 0xb8, 0xdb,
  0x88, 0xdf, 0xdf, 0xf8, 0x88, 0xf8, 0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0x88,
  0xff, 0x88, 0xfd, 0x88, 0x8f, 0xf8, 0x88, 0x88, 0x88, 0x8f, 0x88, 0x88,
  0x88, 0x8f, 0x88, 0x88, 0x8b, 0xfd, 0x88, 0xfb, 0x88, 0xff, 0x8f, 0xf8,
  0x88, 0xfb, 0x8f, 0xd8, 0x8d, 0xfb, 0x8f, 0x88, 0xdf, 0x8b, 0xfd, 0x88,
  0x8d, 0xfb, 0x8f, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x88, 0xff, 0xf8, 0x88,
  0x8f, 0xff, 0xff, 0xf8, 0x88, 0xdf, 0xff, 0xfb, 0x8f, 0xff, 0xff, 0x88,
  0x88, 0xff, 0xfd, 0x88, 0x8f, 0xff, 0xff, 0x88, 0x88, 0xff, 0xff, 0x88,
  0x88, 0xff, 0xf8, 0x88, 0x8d, 0xff, 0xfb, 0x88, 0xff, 0x88, 0x88, 0x88,
  0x88, 0xbf, 0x88, 0x88, 0x88, 0x8b, 0xf8, 0x88, 0xff, 0x88, 0x88, 0x88,
  0xdf, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0xdf, 0x8f, 0xf8, 0x88, 0xbf, 0x88, 0x88, 0x88, 0x88, 0xbf, 0x88, 0x88,
  0x88, 0x8b, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0xff, 0x8f, 0xf8, 0x88,
  0xbf, 0xdf, 0xf8, 0x88, 0x88, 0xff, 0x88, 0x88, 0x88, 0x8f, 0xf8, 0x88,
  0x8f, 0x8f, 0xfd, 0x88, 0x8f, 0x88, 0x88, 0x88, 0xff, 0xfd, 0xdf, 0xf8,
  0xff, 0xdf, 0xf8, 0x88, 0x8f, 0xff, 0xd8, 0x88, 0xbf, 0xf8, 0xfd, 0x88,
  0x88, 0xbf, 0x88, 0x88, 0x88, 0x88, 0xf8, 0x88, 0x8f, 0x8f, 0xf8, 0x88,
  0x8f, 0x88, 0x88, 0x88, 0xbf, 0xdf, 0xfb, 0xf8, 0xbf, 0xf8, 0xfb, 0x88,
  0xff, 0xb8, 0x88, 0x88, 0xbf, 0x88, 0xff, 0x88, 0x88, 0x8f, 0x88, 0x88,
  0x88, 0x88, 0xf8, 0x88, 0x8f, 0xff, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x88,
  0x8f, 0x8f, 0xb8, 0xfb, 0x8f, 0xb8, 0xfd, 0x88, 0xdf, 0xff, 0xfb, 0x88,
  0xbf, 0x88, 0xff, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x88, 0x88, 0xf8, 0x88,
  0x8f, 0xff, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x88, 0x8f, 0x8f, 0x88, 0xfb,
  0x8f, 0x88, 0xfd, 0x88, 0xff, 0x88, 0xfb, 0x88, 0xbf, 0x88, 0xff, 0x88,
  0x88, 0x8f, 0x88, 0x88, 0x88, 0xbb, 0xf8, 0x88, 0x8f, 0x8f, 0xf8, 0x88,
  0x8f, 0x88, 0x88, 0x88, 0xbf, 0x8f, 0x88, 0xfb, 0xbf, 0x88, 0xff, 0x88,
  0xdf, 0xff, 0xf8, 0x88, 0xff, 0xdd, 0xff, 0x88, 0x88, 0xff, 0xf8, 0x88,
  0x88, 0xff, 0xf8, 0x88, 0x8f, 0xdb, 0xfd, 0x88, 0xff, 0xf8, 0x88, 0x88,
  0xff, 0xdf, 0xfd, 0xff, 0xff, 0xdd, 0xff, 0x88, 0x88, 0x88, 0x88, 0x88,
  0xff, 0xff, 0xd8, 0x88, 0x8d, 0xff, 0xdb, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0xdf, 0xdb, 0xfd, 0x88,
  0xdf, 0x8d, 0xfb, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x8f, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x8d, 0xff, 0xb8, 0x88, 0xbf, 0x88, 0xff, 0x88, 0xff, 0x88, 0xfb, 0x88,
  0x88, 0xff, 0xdf, 0x88, 0x88, 0x8f, 0xff, 0x88, 0x88, 0xff, 0xfb, 0x88,
  0x8f, 0xf8, 0xdf, 0x88, 0x8f, 0xfd, 0xdf, 0xd8, 0xdf, 0xbb, 0xfb, 0x88,
  0xbf, 0x88, 0xff, 0x88, 0xff, 0x88, 0xfb, 0x88, 0x88, 0xbf, 0xff, 0xb8,
  0x88, 0xff, 0xbf, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x8d, 0xf8, 0x8f, 0x88,
  0x8d, 0xf8, 0x8f, 0x88, 0xff, 0x88, 0xff, 0x88, 0xbf, 0xb8, 0xfd, 0x88,
  0xff, 0x8d, 0xfb, 0x88, 0x88, 0x8f, 0xb8, 0x88, 0x88, 0xff, 0xfb, 0x88,
  0x88, 0x8f, 0x88, 0x88, 0x8d, 0xf8, 0x8f, 0x88, 0x88, 0xfd, 0xdf, 0x88,
  0xff, 0x88, 0xff, 0x88, 0xbf, 0xff, 0xf8, 0x88, 0x8f, 0xff, 0xfb, 0x88,
  0x88, 0x8f, 0x88, 0x88, 0x88, 0x8f, 0xff, 0x88, 0x88, 0x8f, 0x88, 0x88,
  0x8d, 0xf8, 0x8f, 0x88, 0x88, 0xff, 0xf8, 0x88, 0xff, 0x88, 0xfb, 0x88,
  0xdf, 0x88, 0x88, 0x88, 0x88, 0x88, 0xfb, 0x88, 0x88, 0x8f, 0x88, 0x88,
  0x88, 0xfb, 0x8f, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x8b, 0xf8, 0xdf, 0xb8,
  0x88, 0xbf, 0xf8, 0x88, 0x8f, 0xff, 0xf8, 0x88, 0xff, 0xd8, 0x88, 0x88,
  0x88, 0x8d, 0xff, 0x88, 0x88, 0xff, 0xd8, 0x88, 0x88, 0xff, 0xff, 0x88,
  0x88, 0x8f, 0xfb, 0x88, 0x88, 0xff, 0xff, 0xf8, 0x88, 0x8f, 0xd8, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x8f, 0xfb, 0xdf, 0xd8,
  0x88, 0x88, 0x88, 0x88, 0x88, 0xdf, 0xfb, 0x88, 0x88, 0xdf, 0x88, 0x88,
  0x88, 0xdf, 0xfd, 0x88, 0x88, 0xdf, 0xfd, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x8d, 0xf8, 0x8f, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x8b, 0xfb, 0xbf, 0x88, 0x88, 0xbf, 0xf8, 0x88, 0x8d, 0xfb, 0xbf, 0xb8,
  0x8d, 0xf8, 0xbf, 0x88, 0xff, 0xdb, 0xdb, 0xff, 0x88, 0xff, 0xdf, 0xfb,
  0x88, 0xfd, 0xfd, 0x88, 0xdf, 0xff, 0xd8, 0x88, 0x8f, 0xf8, 0x8f, 0xf8,
  0x88, 0x8f, 0xf8, 0x88, 0x8d, 0xf8, 0x8f, 0xd8, 0x8d, 0xd8, 0x8f, 0xb8,
  0xdf, 0x8f, 0xf8, 0xfd, 0x88, 0xbf, 0xdf, 0xf8, 0x88, 0xff, 0xf8, 0x88,
  0xff, 0xdf, 0xb8, 0x88, 0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0x8f, 0xf8, 0x88,
  0x88, 0x88, 0xff, 0x88, 0x88, 0x8f, 0xff, 0x88, 0x8f, 0xbf, 0xfb, 0xf8,
  0x88, 0x8d, 0xff, 0x88, 0x88, 0xbf, 0xf8, 0x88, 0xb8, 0xff, 0x88, 0x88,
  0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0x8f, 0xf8, 0x88, 0x88, 0x8f, 0xf8, 0x88,
  0x88, 0x8d, 0xff, 0xb8, 0x8f, 0xff, 0xff, 0xf8, 0x88, 0x8b, 0xff, 0x88,
  0x88, 0x8f, 0xb8, 0x88, 0x8f, 0xf8, 0xb8, 0x88, 0x8f, 0xf8, 0x8f, 0xf8,
  0x88, 0x8f, 0xf8, 0x88, 0x88, 0xfd, 0x88, 0xb8, 0x8b, 0xb8, 0x8f, 0xd8,
  0x8f, 0xfb, 0xff, 0xb8, 0x88, 0x8f, 0xbf, 0xd8, 0x88, 0xbf, 0x88, 0x88,
  0xdf, 0xbd, 0xf8, 0x88, 0x8d, 0xf8, 0xbf, 0xb8, 0x88, 0x8f, 0xf8, 0x88,
  0x8d, 0xfd, 0xdf, 0xf8, 0x8f, 0xf8, 0xbf, 0xd8, 0x8b, 0xf8, 0xbf, 0x88,
  0x88, 0xff, 0xbf, 0xfd, 0x8d, 0xfd, 0x88, 0x88, 0xff, 0xff, 0xf8, 0x88,
  0x88, 0xff, 0xfd, 0x88, 0x88, 0xdf, 0xfd, 0x88, 0x8f, 0xff, 0xff, 0xd8,
  0x8b, 0xff, 0xff, 0x88, 0x88, 0x88, 0xff, 0x88, 0x88, 0xff, 0xff, 0x88,
  0x88, 0xbf, 0xfd, 0x88, 0x8d, 0xff, 0xff, 0xd8, 0x88, 0xdf, 0xfd, 0x88,
  0x88, 0xdf, 0xfb, 0x88, 0x88, 0xdf, 0xfb, 0x88, 0x88, 0xff, 0xff, 0x88,
  0x88, 0x8b, 0xff, 0x88, 0x88, 0xff, 0xff, 0x88, 0x88, 0xfd, 0xbf, 0xb8,
  0x8f, 0xff, 0xff, 0xd8, 0x8b, 0xf8, 0xbf, 0xb8, 0x8d, 0xf8, 0xbf, 0x88,
  0x8b, 0xfb, 0xbf, 0x88, 0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0x8f, 0xff, 0x88,
  0x88, 0xf8, 0x88, 0x88, 0x8d, 0xf8, 0x88, 0x88, 0x8f, 0x88, 0xbf, 0x88,
  0x8d, 0xf8, 0x8f, 0xb8, 0x8f, 0xf8, 0x8f, 0xd8, 0x8f, 0xf8, 0x8f, 0xf8,
  0x88, 0xf8, 0x8f, 0x88, 0x88, 0xfd, 0xff, 0x88, 0x88, 0xff, 0xff, 0x88,
  0x8f, 0xff, 0xff, 0x88, 0x88, 0x88, 0xfd, 0x88, 0x8b, 0xff, 0xff, 0x88,
  0x8f, 0xf8, 0x8f, 0xf8, 0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0x88, 0xff, 0x88,
  0x8f, 0xf8, 0xff, 0x88, 0x88, 0xf8, 0xbf, 0xd8, 0x8f, 0xf8, 0x8f, 0xd8,
  0x88, 0x8b, 0xf8, 0x88, 0x8b, 0xff, 0xff, 0xb8, 0x8b, 0xff, 0xff, 0xf8,
  0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0x8d, 0xf8, 0x88, 0x8f, 0xff, 0xff, 0xf8,
  0x88, 0x88, 0x8f, 0xf8, 0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0x8f, 0xf8, 0x88,
  0x8f, 0xf8, 0x8f, 0xf8, 0x88, 0x8b, 0x8f, 0xd8, 0x8f, 0xf8, 0x8f, 0xf8,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0xff, 0x88, 0x8f, 0xf8, 0xbf, 0xd8,
  0x8d, 0xf8, 0x8f, 0xd8, 0x88, 0x8f, 0xd8, 0x88, 0x8f, 0xf8, 0x8f, 0xf8,
  0x8d, 0xf8, 0xbf, 0x88, 0x8d, 0xf8, 0xbf, 0xb8, 0x88, 0x8f, 0x88, 0x88,
  0x88, 0x8b, 0xff, 0xd8, 0x8b, 0xff, 0xff, 0x88, 0x88, 0xff, 0xff, 0x88,
  0x88, 0xbf, 0xb8, 0x88, 0x8b, 0xff, 0xff, 0x88, 0x8b, 0xff, 0xfd, 0x88,
  0x88, 0xff, 0xfd, 0x88, 0x88, 0x8f, 0xf8, 0x88, 0x88, 0x8f, 0xd8, 0x88,
  0x8f, 0xff, 0xf8, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x8f, 0xd8, 0x88, 0x88, 0xfb, 0xf8, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x8f, 0xd8, 0x88, 0x88, 0xf8, 0xf8, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x8f, 0xb8, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x8f, 0xff, 0xff, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x8f, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x8f, 0xff, 0xff, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x8f, 0xfb, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x8f, 0xd8, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0xfb, 0x8b, 0xff, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x8f, 0xd8, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0xfd, 0x8b, 0xf8, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x8b,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88,
  0x88, 0x88, 0x88, 0x88
};
unsigned int test2_bin_len = 2560;

TextRequest textRequests[TEXT_REQUEST_BUF_SIZE];

static const char NO_MSG[] = "";

int indexForChar(const char letter) {
  int result = -1;

  if ((letter >= 'A') && (letter <= 'Z')) {
    result = (letter - 65);
  } else if ((letter >= 'a') && (letter <= 'z')) {
    result = (letter - 97) + 26;
  } else if ((letter >= '0') && (letter <= '9')) {
    result = (letter - 48) + 52;
  } else if (letter == '?') {
    result = 63;
  } else if (letter == '!') {
    result = 64;
  } else if (letter == '"') {
    result = 65;
  } else if (letter == '.') {
    result = 66;
  } else if (letter == ',') {
    result = 67;
  } else if (letter == '-') {
    result = 68;
  } else if (letter == '\'') {
    result = 65;
  }

  return result;
}

void resetTextRequests() {
  int i;
  
  for (i = 0; i < TEXT_REQUEST_BUF_SIZE; i++) {
    textRequests[i].text = NO_MSG;
    textRequests[i].enable = 0;
  }
}

void drawTextRequests() {
  int i;

  gDPPipeSync(glistp++);

  gDPSetCycleType(glistp++, G_CYC_1CYCLE);
  gDPSetTextureFilter(glistp++, G_TF_AVERAGE);
  gDPSetRenderMode(glistp++, G_RM_TEX_EDGE, G_RM_TEX_EDGE);

  gSPTexture(glistp++, 0xffff, 0xffff, 0, G_TX_RENDERTILE, G_ON);
  gDPSetCombineMode(glistp++,G_CC_DECALRGBA, G_CC_DECALRGBA);
  gDPSetTexturePersp(glistp++, G_TP_NONE);

  gDPLoadTextureBlock_4b(glistp++, test2_bin, G_IM_FMT_IA, 64, 80, 0, G_TX_WRAP | G_TX_NOMIRROR, G_TX_WRAP | G_TX_NOMIRROR, G_TX_NOMASK, G_TX_NOMASK, G_TX_NOLOD, G_TX_NOLOD);
  
  for (i = 0; i < TEXT_REQUEST_BUF_SIZE; i++) {
    int letterIndex = 0;
    int xSpot = textRequests[i].x;
    int ySpot = textRequests[i].y;
    if (textRequests[i].enable == 0) {
      continue;
    }

    // TODO: we should make this more safe later
    while (textRequests[i].text[letterIndex] != '\0') {
      if ((textRequests[i].cutoff >= 0) && (letterIndex == textRequests[i].cutoff)) {
        break;
      } 

      if (textRequests[i].text[letterIndex] == ' ') {
        xSpot += 8;
      } else if (textRequests[i].text[letterIndex] == '\n') {
        xSpot = textRequests[i].x;
        ySpot += 8;
      } else {
        int textureIndex = indexForChar(textRequests[i].text[letterIndex]);
        int u = (textureIndex % 8) * 8;
        int v = (textureIndex / 8) * 8;

        gSPTextureRectangle(glistp++, (int)(xSpot) << 2, (int)(ySpot) << 2, (int)(xSpot + 8) << 2, (int)(ySpot + 8) << 2, G_TX_RENDERTILE, (u << 5), (v << 5), (int)(1 << 10), (int)(1 << 10));
        xSpot += 8;
      }

      letterIndex++;
    }
  }
}

TextRequest* getTextRequest(int slot) {
  if ((slot < 0) || (slot >= TEXT_REQUEST_BUF_SIZE)) {
    return NULL;
  }

  return &(textRequests[slot]);
}

void tickTextRequests(float deltaSeconds) {
  int i;

  for (i = 0; i < TEXT_REQUEST_BUF_SIZE; i++) {
    if (textRequests[i].enable == 0) {
      continue;
    }

    if (textRequests[i].cutoff < 0) {
      continue;
    }

    // If we're here, tick the cutoff marker
    textRequests[i].typewriterTick += deltaSeconds;
    if (textRequests[i].typewriterTick > TIME_PER_CHARACTER) {
      textRequests[i].typewriterTick = 0.f;

      textRequests[i].cutoff++;

      // If we've reached the null-terminator, please stop
      if (textRequests[i].text[textRequests[i].cutoff] == '\0') {
        textRequests[i].cutoff = -1;
      }
    }
  }

}


